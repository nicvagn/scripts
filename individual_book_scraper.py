#!/usr/bin/env python3
import requests
from bs4 import BeautifulSoup

lib_items = '''<div id="library-items-wrapper" class="cell small-12"><h3 class="letter-break">#</h3><div class="item cover book " data-join-id="131343449"><div class="cover-wrapper " data-join-id="131343449"><img src="https://d23tvywehq0xq.cloudfront.net/447bdcd125003949ff17e4c6ae43811d04adb543.jpg" data-join-id="131343449" alt="1 ... d6 Move by Move" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">1 ... d6 Move by Move</div><div class="item-author">Cyrus Lakdawala</div></div><div class="item cover book " data-join-id="131342777"><div class="cover-wrapper " data-join-id="131342777"><img src="https://d23tvywehq0xq.cloudfront.net/oe67559dd053fc68573a6e137738fdfd91.jpg" data-join-id="131342777" alt="107 Great Chess Battles, 1939-1945" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">107 Great Chess Battles, 1939-1945</div><div class="item-author">Alexander Alekhine</div></div><div class="item cover book " data-join-id="131172452"><div class="cover-wrapper " data-join-id="131172452"><img src="https://d23tvywehq0xq.cloudfront.net/eb5f1576ce1276fe4b69fe657b047ccc98465cfa.jpg" data-join-id="131172452" alt="200 Open Games" tabindex="0"><span title="book" class="media-type"></span><div></div></div><div class="item-title">200 Open Games</div><div class="item-author">David Bronstein</div></div><div class="item cover book " data-join-id="131180250"><div class="cover-wrapper " data-join-id="131180250"><img src="https://d23tvywehq0xq.cloudfront.net/326c527a78bad6ea4f39473a6d27f5e2282a5dba.jpg" data-join-id="131180250" alt="303 Tactical Chess Puzzles" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">303 Tactical Chess Puzzles</div><div class="item-author">Fred Wilson</div></div><div class="item cover book " data-join-id="131221505"><div class="cover-wrapper " data-join-id="131221505"><img src="https://d23tvywehq0xq.cloudfront.net/up181d68f9760694aaa7e5d4610d301cd2.jpg" data-join-id="131221505" alt="606 Puzzles for Chess Nuts" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">606 Puzzles for Chess Nuts</div><div class="item-author">Fred Wilson</div></div><h3 class="letter-break">A</h3><div class="item cover book " data-join-id="131166454"><div class="cover-wrapper " data-join-id="131166454"><img src="https://d23tvywehq0xq.cloudfront.net/a553c5d691ac6a59a6366145e75d8d924d97b5c5.jpg" data-join-id="131166454" alt="Alekhine's Defence" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Alekhine's Defence</div><div class="item-author">Nigel Davies</div></div><div class="item cover book " data-join-id="131370443"><div class="cover-wrapper " data-join-id="131370443"><img src="https://d23tvywehq0xq.cloudfront.net/50324946d64e251a33c0f370cea33668d56f79f6.jpg" data-join-id="131370443" alt="All the Wrong Moves" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">All the Wrong Moves</div><div class="item-author">Sasha Chapin</div></div><div class="item cover book " data-join-id="131161329"><div class="cover-wrapper " data-join-id="131161329"><img src="https://d23tvywehq0xq.cloudfront.net/c452161aee05d3290b86a72ee925ee0efdef833c.jpg" data-join-id="131161329" alt="Amateur's Mind" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Amateur's Mind</div><div class="item-author">Jeremy Silman</div></div><div class="item cover book " data-join-id="131225126"><div class="cover-wrapper " data-join-id="131225126"><img src="https://d23tvywehq0xq.cloudfront.net/727382f18dde0ace97466064068a219ebf.jpg" data-join-id="131225126" alt="Art of Attack in Chess" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Art of Attack in Chess</div><div class="item-author">Vladimir Vukovic</div></div><div class="item cover book " data-join-id="131253753"><div class="cover-wrapper " data-join-id="131253753"><img src="https://d23tvywehq0xq.cloudfront.net/ym16edc3ffe408ae4db95e0b7188816853.jpg" data-join-id="131253753" alt="Art of Chess Analysis" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Art of Chess Analysis</div><div class="item-author">Jan Timman</div></div><div class="item cover book " data-join-id="131345631"><div class="cover-wrapper " data-join-id="131345631"><img src="https://d23tvywehq0xq.cloudfront.net/ae2a1528ee72479998cb26289779d0aeb2263e14.jpg" data-join-id="131345631" alt="Art of Chess Analysis" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Art of Chess Analysis</div><div class="item-author">Jan Timman</div></div><div class="item cover book " data-join-id="131364542"><div class="cover-wrapper " data-join-id="131364542"><img src="https://d23tvywehq0xq.cloudfront.net/b5adfc3815482a859f044c59e55bcb49316713a7.jpg" data-join-id="131364542" alt="Art of Defence in Chess" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Art of Defence in Chess</div><div class="item-author">Lev Polugaevsky</div></div><div class="item cover book " data-join-id="131222338"><div class="cover-wrapper " data-join-id="131222338"><img src="https://d23tvywehq0xq.cloudfront.net/898b052d075aa893c149588dd4b0d656056cb5a2.jpg" data-join-id="131222338" alt="Art of Defense in Chess" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Art of Defense in Chess</div><div class="item-author">Andrew Soltis</div></div><div class="item cover book " data-join-id="131343085"><div class="cover-wrapper " data-join-id="131343085"><img src="https://d23tvywehq0xq.cloudfront.net/520e3bcd0c6bc060017456b3a19e3980dbd2b9bc.jpg" data-join-id="131343085" alt="Art of Positional Play" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Art of Positional Play</div><div class="item-author">Samuel Reshevsky</div></div><div class="item cover book " data-join-id="131180377"><div class="cover-wrapper " data-join-id="131180377"><img src="https://d23tvywehq0xq.cloudfront.net/60abd1a51e90b583e38af1c4580b1583ea58f729.jpg" data-join-id="131180377" alt="Art of Sacrifice in Chess" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Art of Sacrifice in Chess</div><div class="item-author">Rudolf Spielmann</div></div><div class="item cover book " data-join-id="131166436"><div class="cover-wrapper " data-join-id="131166436"><img src="https://d23tvywehq0xq.cloudfront.net/169f97e0da5fb5f2b6848be267e95e39df1a0df5.jpg" data-join-id="131166436" alt="Art of the King's Indian" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Art of the King's Indian</div><div class="item-author">Eduard Gufeld</div></div><div class="item cover book " data-join-id="131342426"><div class="cover-wrapper " data-join-id="131342426"><img src="https://d23tvywehq0xq.cloudfront.net/9c8bb05bd1d353f8b50ddf2f990eef78f7c032a4.jpg" data-join-id="131342426" alt="Art of the Middle Game" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Art of the Middle Game</div><div class="item-author">Paul Keres</div></div><div class="item cover book " data-join-id="131240232"><div class="cover-wrapper " data-join-id="131240232"><img src="https://d23tvywehq0xq.cloudfront.net/1ba64227b22b0605d45e896e5fb5617d51bd9daf.jpg" data-join-id="131240232" alt="Attacking Manual 1" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Attacking Manual 1</div><div class="item-author">Jacob Aagaard</div></div><div class="item cover book " data-join-id="131413926"><div class="cover-wrapper " data-join-id="131413926"><img src="https://d23tvywehq0xq.cloudfront.net/8dbc5d5bf839c19891a92a80654b9e2e76ee7d02.jpg" data-join-id="131413926" alt="Attacking Repertoire for White" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Attacking Repertoire for White</div><div class="item-author">Sam Collins</div></div><h3 class="letter-break">B</h3><div class="item cover book " data-join-id="131413719"><div class="cover-wrapper " data-join-id="131413719"><img src="https://d23tvywehq0xq.cloudfront.net/d1fb1dc96bc044273b098df92b98c5415f1323d4.jpg" data-join-id="131413719" alt="Basic Chess Endings" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Basic Chess Endings</div><div class="item-author">Reuben Fine</div></div><div class="item cover book " data-join-id="131168557"><div class="cover-wrapper " data-join-id="131168557"><img src="https://d23tvywehq0xq.cloudfront.net/5761add40a42980a39b4149e5da33145b89f20a7.jpg" data-join-id="131168557" alt="Beating the King's Indian and Grunfeld" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Beating the King's Indian and Grunfeld</div><div class="item-author">Timothy Taylor</div></div><div class="item cover book " data-join-id="131234463"><div class="cover-wrapper " data-join-id="131234463"><img src="https://d23tvywehq0xq.cloudfront.net/e4eeaa5f258a603792c3f6697b56cde5bcead6c3.jpg" data-join-id="131234463" alt="Beating the Open Games" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Beating the Open Games</div><div class="item-author">Mihail Marin</div></div><div class="item cover book " data-join-id="131222132"><div class="cover-wrapper " data-join-id="131222132"><img src="https://d23tvywehq0xq.cloudfront.net/e8c1154663b85929838d7f21e6e9396844583010.jpg" data-join-id="131222132" alt="Beating the Petroff" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Beating the Petroff</div><div class="item-author">Vassilios Kotronias</div></div><div class="item cover book " data-join-id="131391445"><div class="cover-wrapper " data-join-id="131391445"><img src="https://d23tvywehq0xq.cloudfront.net/41a4f5f8921d47c01673f29b701d51de3d4e6440.jpg" data-join-id="131391445" alt="Beating Unusual Chess Openings" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Beating Unusual Chess Openings</div><div class="item-author">Richard Palliser</div></div><div class="item cover book " data-join-id="131172445"><div class="cover-wrapper " data-join-id="131172445"><img src="https://d23tvywehq0xq.cloudfront.net/55293dcea3ee399b4f4d3a9b1387a75a86f9c107.jpg" data-join-id="131172445" alt="Benko Gambit Revealed" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Benko Gambit Revealed</div><div class="item-author">Neil McDonald</div></div><div class="item cover book " data-join-id="131391102"><div class="cover-wrapper " data-join-id="131391102"><img src="https://d23tvywehq0xq.cloudfront.net/d316ef993d2757c6fe9613ff6a4260ad657c34e5.jpg" data-join-id="131391102" alt="Bird's Opening" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Bird's Opening</div><div class="item-author">Timothy Taylor</div></div><div class="item cover book " data-join-id="131183725"><div class="cover-wrapper " data-join-id="131183725"><img src="https://d23tvywehq0xq.cloudfront.net/bje3ece79df3956296d9987650007e67bf.jpg" data-join-id="131183725" alt="Birth of the Chess Queen" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Birth of the Chess Queen</div><div class="item-author">Marilyn Yalom</div></div><div class="item cover book " data-join-id="131224619"><div class="cover-wrapper " data-join-id="131224619"><img src="https://d23tvywehq0xq.cloudfront.net/ed03abc55912649c5fc8cb93d2c221457867cec8.jpg" data-join-id="131224619" alt="Blackmar-Diemer Gambit" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Blackmar-Diemer Gambit</div><div class="item-author">Christopher Scheerer</div></div><div class="item cover book " data-join-id="131181436"><div class="cover-wrapper " data-join-id="131181436"><img src="https://d23tvywehq0xq.cloudfront.net/g7a4e34a8d580d9ceb508bece19c9059c7.jpg" data-join-id="131181436" alt="Bobby Fischer" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Bobby Fischer</div><div class="item-author">Karsten Mueller</div></div><div class="item cover book " data-join-id="131217572"><div class="cover-wrapper " data-join-id="131217572"><img src="https://d23tvywehq0xq.cloudfront.net/7n4e92d69ba45352a0e2eaa9e658166e95.jpg" data-join-id="131217572" alt="Bobby Fischer Goes to War: How the Soviets Lost th" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Bobby Fischer Goes to War: How the Soviets Lost the Most Extraordinary Chess Match of All Time</div><div class="item-author">David Edmonds</div></div><div class="item cover book " data-join-id="131192302"><div class="cover-wrapper " data-join-id="131192302"><img src="https://d23tvywehq0xq.cloudfront.net/q3ebed058bbcb0895eceb8baed94e01e73.jpg" data-join-id="131192302" alt="Bobby Fischer: Profile of a Prodigy" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Bobby Fischer: Profile of a Prodigy</div><div class="item-author">Frank Brady</div></div><div class="item cover book " data-join-id="131328513"><div class="cover-wrapper " data-join-id="131328513"><img src="https://d23tvywehq0xq.cloudfront.net/ccbf76e18db9b18d5e26c84136d8f18d4ed1b382.jpg" data-join-id="131328513" alt="Botvinnik Semi-Slav" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Botvinnik Semi-Slav</div><div class="item-author">Steffen Pedersen</div></div><div class="item cover book " data-join-id="131172317"><div class="cover-wrapper " data-join-id="131172317"><img src="https://d23tvywehq0xq.cloudfront.net/3336a4aa44deb4788ae111a10015ac7b4500d141.jpg" data-join-id="131172317" alt="Bronstein on the King's Indian" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Bronstein on the King's Indian</div><div class="item-author">David Bronstein</div></div><div class="item cover book " data-join-id="131223690"><div class="cover-wrapper " data-join-id="131223690"><img src="https://d23tvywehq0xq.cloudfront.net/pefeae13fcae644d44c6537b2e1f8cf914.jpg" data-join-id="131223690" alt="Build Up Your Chess 1: The Fundamentals" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Build Up Your Chess 1: The Fundamentals</div><div class="item-author">Artur Yusupov</div></div><h3 class="letter-break">C</h3><div class="item cover book " data-join-id="131221890"><div class="cover-wrapper " data-join-id="131221890"><img src="https://d23tvywehq0xq.cloudfront.net/9zc89d28a3ef15a6eaf3ff0ac4e1ec38c8.jpg" data-join-id="131221890" alt="Capablanca's Best Chess Endings" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Capablanca's Best Chess Endings</div><div class="item-author">Irving Chernev</div></div><div class="item cover book " data-join-id="131161977"><div class="cover-wrapper " data-join-id="131161977"><img src="https://d23tvywehq0xq.cloudfront.net/600e5ae632e16071cc135d8fd4eaefcba8f3b163.jpg" data-join-id="131161977" alt="Caro Kann Defence: Advance Variation and Gambit Sy" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Caro Kann Defence: Advance Variation and Gambit System</div><div class="item-author">Anatoly Karpov</div></div><div class="item cover book " data-join-id="131234261"><div class="cover-wrapper " data-join-id="131234261"><img src="https://d23tvywehq0xq.cloudfront.net/638a1fdfcc8753e7b3b04dc85458c9f7cd83d0e0.jpg" data-join-id="131234261" alt="Caro-Kann Defence" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Caro-Kann Defence</div><div class="item-author">Anatoly Karpov</div></div><div class="item cover book " data-join-id="131345711"><div class="cover-wrapper " data-join-id="131345711"><img src="https://d23tvywehq0xq.cloudfront.net/a10127c8c2b5cfab29367aa331830003f7e0b258.jpg" data-join-id="131345711" alt="Checkmate in Prague" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Checkmate in Prague</div><div class="item-author">Luděk Pachman</div></div><div class="item cover book " data-join-id="131161228"><div class="cover-wrapper " data-join-id="131161228"><img src="https://d23tvywehq0xq.cloudfront.net/3311f049535677fc7ae41bba425dae5071.jpg" data-join-id="131161228" alt="Checkmate!: My First Chess Book" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Checkmate!: My First Chess Book</div><div class="item-author">Garry Kasparov</div></div><div class="item cover book " data-join-id="131345782"><div class="cover-wrapper " data-join-id="131345782"><img src="https://d23tvywehq0xq.cloudfront.net/ab8bbaf04d87ee601158febc4dda99793629de4b.jpg" data-join-id="131345782" alt="Chess" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Chess</div><div class="item-author">László Polgár</div></div><div class="item cover book " data-join-id="131181038"><div class="cover-wrapper " data-join-id="131181038"><img src="https://d23tvywehq0xq.cloudfront.net/89e76d855a7395f3679838c407b33e78f5df6099.jpg" data-join-id="131181038" alt="Chess Artist" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Chess Artist</div><div class="item-author">J. C. Hallman</div></div><div class="item cover book " data-join-id="131181659"><div class="cover-wrapper " data-join-id="131181659"><img src="https://d23tvywehq0xq.cloudfront.net/4b3474fb62a90d107a1994efb001d485003d4fe9.jpg" data-join-id="131181659" alt="Chess Brilliancy" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Chess Brilliancy</div><div class="item-author">Iakov Damsky</div></div><div class="item cover book " data-join-id="131161653"><div class="cover-wrapper " data-join-id="131161653"><img src="https://d23tvywehq0xq.cloudfront.net/cvb0733924d0890d98a65834f148270277.jpg" data-join-id="131161653" alt="Chess Duels with the Champions" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Chess Duels with the Champions</div><div class="item-author">Yasser Seirawan</div></div><div class="item cover book " data-join-id="131328672"><div class="cover-wrapper " data-join-id="131328672"><img src="https://d23tvywehq0xq.cloudfront.net/7ga809256e76b9a08e83f7cc63ed4d0605.jpg" data-join-id="131328672" alt="Chess Exam and Training Guide" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Chess Exam and Training Guide</div><div class="item-author">Igor Khmelnitsky</div></div><div class="item cover book " data-join-id="131343140"><div class="cover-wrapper " data-join-id="131343140"><img src="https://d23tvywehq0xq.cloudfront.net/0dd4e1b3f87a6bd839dfc757818862e9f17e94f1.jpg" data-join-id="131343140" alt="Chess Explained: The c3 Sicilian" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Chess Explained: The c3 Sicilian</div><div class="item-author">Sam Collins</div></div><div class="item cover book " data-join-id="131181390"><div class="cover-wrapper " data-join-id="131181390"><img src="https://d23tvywehq0xq.cloudfront.net/tied70ee1c70ce6f2fe819a9c190649220.jpg" data-join-id="131181390" alt="Chess for Zebras" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Chess for Zebras</div><div class="item-author">Jonathan Rowson</div></div><div class="item cover book " data-join-id="131342513"><div class="cover-wrapper " data-join-id="131342513"><img src="https://d23tvywehq0xq.cloudfront.net/994a22d071b8685cb2e89842ee66bf00bdda4f30.jpg" data-join-id="131342513" alt="Chess from Morphy to Botwinnik" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Chess from Morphy to Botwinnik</div><div class="item-author">Imre Konig</div></div><div class="item cover book " data-join-id="131328703"><div class="cover-wrapper " data-join-id="131328703"><img src="https://d23tvywehq0xq.cloudfront.net/f073f5a9167b8ea90ff54e3bb885afc5f359c474.jpg" data-join-id="131328703" alt="Chess Fundamentals" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Chess Fundamentals</div><div class="item-author">José R. Capablanca</div></div><div class="item cover book " data-join-id="131374917"><div class="cover-wrapper " data-join-id="131374917"><img src="https://d23tvywehq0xq.cloudfront.net/37cdb321a498d3bd5f28a152e24f28d6f7bf7bf2.jpg" data-join-id="131374917" alt="Chess Fundamentals (Revised and Updated)" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Chess Fundamentals (Revised and Updated)</div><div class="item-author">Jose Capablanca</div></div><div class="item cover book " data-join-id="131180551"><div class="cover-wrapper " data-join-id="131180551"><img src="https://d23tvywehq0xq.cloudfront.net/dfe03e2b4f5d55a1eee9cf4101717d0003b9d885.jpg" data-join-id="131180551" alt="Chess Lessons" tabindex="0"><span title="book" class="media-type"></span></div><div class="item-title">Chess Lessons</div><div class="item-author">Vladimir Popov</div></div></div>'''

soup = BeautifulSoup(lib_items, "html.parser")

book_info = {"title": "id"}
for i in soup.find_all("img"):
    data_id = i["data-join-id"]
    title = i["alt"]
    book_info[title] = data_id

print(book_info)
get_info = []

infofile = open("book_info.txt", "w+")

for t in book_info.keys():
    print(t, book_info[t])

    get = requests.get("https://www.libib.com/u/saskhorizonchessclub?id=" + book_info[t])
    infofile.write(get.text)
    infofile.write("\n _________ \n")
    get_info.append({ t: book_info[title], "book_pg": get })


